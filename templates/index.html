<!DOCTYPE html>
<html>
	<head>
		<title>NambaFinder</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="./static/main.css" type="text/css" />
		<script src="./static/main.js"></script>
		
		<script
			src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
			integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
			integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
			integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
			crossorigin="anonymous"
		></script>
	</head>
	<body>
		<header class="header">
			<div class="container header__container">
				<div class="header__logo">
					<img
						class="header__img"
						src="https://image.ibb.co/kcVou6/path3000.png"
					/>
					<h1 class="header__title">
						NambaFinder<span class="header__light">.io</span>
					</h1>
				</div>
			</div>
		</header>

		<div class="sect sect--padding-top">
			<div class="container my-5">
				<h1 class="display-4 text-center mb-5">Search</h1>
				<form id="searchForm" action="/" method="post">
					{{ form.csrf_token }}
					<div class="search-bar">
						<input
							type="text"
							class="form-control"
							placeholder="Enter Phone number ..."
							name="phone_number"
							id="searchInput"
							required
						/>
						<button class="btn btn-search" type="button" onclick="searchNumber()">Search</button>
		<div id="toast"></div>
						<!-- <button
							class="btn btn-search"
							type="submit"
							data-toggle="modal"
							data-target="#resultModal"
							id="searchButton"
						>
							Search
						</button>
						<script>
							// Get a reference to the modal element
							const modal = document.getElementById("resultModal");

							// Get a reference to the search button
							const searchButton = document.getElementById("searchButton");

							// Add an event listener to the search button
							searchButton.addEventListener("click", function performSearch() {
								const query = document.getElementById("searchInput").value;
								const searchResultsDiv =
									document.getElementById("searchResults");

								fetch("/", {
									method: "POST",
									headers: {
										"Content-Type": "application/json",
									},
									body: JSON.stringify({ phone_number: query }),
								})
									.then((response) => response.json())
									.then((data) => {
										if (data.operator) {
											searchResultsDiv.innerHTML = `<p>Phone number belongs to operator: ${data.operator}</p>`;
										} else if (data.error) {
											searchResultsDiv.innerHTML = `<p>Error: ${data.error}</p>`;
										} else {
											searchResultsDiv.innerHTML = `<p>An error occurred</p>`;
										}
										$("#resultModal").modal("show"); // Open the modal
									})
									.catch((error) => {
										console.error("Error:", error);
									});
							});
						</script> -->
						
					</div>
					<span id="error" class="error-message"></span>
				</form>
				<div class="container mt-5">
					<ul class="nav nav-tabs">
						<li class="nav-item">
							<a class="nav-link active stuff" data-toggle="tab" href="#stuff"
								>Stuff</a
							>
						</li>
						<li class="nav-item">
							<a class="nav-link stuff" data-toggle="tab" href="#more-stuff"
								>More Stuff</a
							>
						</li>
					</ul>

					<div class="tab-content tab-content-container mt-3">
						<div id="stuff" class="tab-pane fade show active mytab-content">
							<section class="accordion" id="how-does-it-work">
								<h1 class="title">
									<a href="#how-does-it-work">How does it work?</a>
								</h1>
								<div class="content">
									<div class="wrapper">
										<p>
											NambaFinder is a tool that allows you to search for Kenyan
											phone number operators using the network destination code
											(NDC). Simply enter the phone number you want to search in
											the format 254 XXX XXX XXX or 0 XXX XXX XXX and
											NambaFinder will provide you with the details of the phone
											number.
										</p>
										<p>
											NambaFinder works by accessing my database of Kenyan NDC
											numbers obtained from Communications Authority of Kenya
											and using an algorithm to match the inputted phone number
											with the corresponding details in the database. This
											allows you to easily find the information you need without
											having to manually search through large amounts of data.
										</p>
									</div>
								</div>
							</section>
							<section class="accordion" id="overview">
								<h1 class="title"><a href="#overview">Overview</a></h1>
								<div class="content">
									<div class="wrapper">
										<p>
											Enter the Phone number you want to search in the following
											format. 254 XXX XXX XXX or 0 XXX XXX XXX , where the first
											three digits (XXX) represent the network destination code
											(NDC), and the remaining seven digits represent the
											subscriber number.
										</p>
									</div>
								</div>
							</section>
							<section class="accordion" id="inspiration">
								<h1 class="title">
									<a href="#inspiration">Inspiration</a>
								</h1>
								<div class="content">
									<div class="wrapper">
										<p>
											As a frequent user of mobile phone services in Kenya, I
											always found it fascinating how many people seemed to know
											the network destination codes (NDC) by heart. Whether it
											was Safaricom, Airtel, or Telkom, people could easily
											identify the network just by looking at the phone number.
											But for those of us who couldn't quite memorize all those
											NDCs, it was a frustrating experience trying to figure out
											which network a phone number belonged to. That's why I was
											inspired to create NambaFinder, a simple yet powerful tool
											that takes the guesswork out of identifying Kenyan phone
											numbers. With NambaFinder, you can quickly and easily
											identify the network of any phone number in Kenya, and
											never have to wonder again.
										</p>
									</div>
								</div>
							</section>
						</div>
						<div
							id="more-stuff"
							class="tab-pane fade mytab-content"
							style="box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.1)"
						>
							<h3>Emergency Numbers</h3>
							<ul>
								<li>Police: 999</li>
								<li>Ambulance: 1199</li>
								<li>Fire Department: 999</li>
								<li>Child Helpline: 116</li>
								<li>Women Helpline: 1195</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Modal container -->
		<!-- <div
			class="modal fade"
			id="resultModal"
			tabindex="-1"
			role="dialog"
			aria-labelledby="myModalLabel"
		>
			<div class="modal-dialog" role="document">
				<div class="modal-content"> -->
					<!-- Modal content goes here -->
					<!--<div class="modal-header">
						<h5 class="modal-title" id="myModalLabel">
							NambaFinder Search Results
						</h5>
						<button
							type="button"
							class="close"
							data-dismiss="modal"
							aria-label="Close"
						>
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body" id="searchResults">
						<p>
							Your search for
							<strong>{{ form.phone_number.data }}</strong> returned the
							following results: {{ operator }}
						</p>
					</div> -->
				</div>
			</div>
		</div>
		<script>
  var searchForm = document.getElementById("searchForm");
  searchForm.addEventListener("submit", searchNumber);
</script>
	</body>
</html>
